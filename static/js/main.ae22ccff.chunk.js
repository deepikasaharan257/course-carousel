(this["webpackJsonpcollege-carousel"]=this["webpackJsonpcollege-carousel"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"url":"http://localhost:49902/api/course"}')},105:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(11),l=a.n(r);a(60),a(61),a(44),a(62),a(63);var i=a(15),c=a(7),s=a(16),u=a(17),d=a(8),h=a(20),m=(a(64),a(65),n.Component,a(10));var f=function(e){return new Promise((function(t,a){var n=e.element,o=e.to,r=e.duration,l=e.scrollDirection,i=e.callBack,c=e.context,s=n[l],u=o-s;!function e(a){var o=function(e,t,a,n){if((e/=n/2)<1)return a/2*e*e+t;return-a/2*((e-=1)*(e-2)-1)+t}(a+=20,s,u,r);n[l]=o,a<r?setTimeout((function(){e(a)}),20):(i.call(c),t())}(0)}))},v=a(31),p=a.n(v),S=a(2),E=a.n(S),y=a(9),b=a(118),w=a(117),g=a(49),T=a(119),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),fetch(m.url,{method:"POST",headers:{Accept:"application/json","content-type":"application/json"},body:JSON.stringify({courseId:null,courseName:e.target[0].value})}).then((function(e){return e.json()})).then((function(e){a.props.onHide()}),(function(e){alert("failed")}))},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(b.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(b.a.Header,{closeButton:!0},o.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},"Create New Course")),o.a.createElement(b.a.Body,null,o.a.createElement("div",{className:"container"},o.a.createElement(w.a,null,o.a.createElement(g.a,{sm:6},o.a.createElement(T.a,{onSubmit:this.handleSubmit},o.a.createElement(T.a.Group,{controlId:"courseName"},o.a.createElement(T.a.Label,null,"Course Name"),o.a.createElement(T.a.Control,{type:"text",name:"courseName",required:!0,placeholder:"course name"})),o.a.createElement(T.a.Group,null,o.a.createElement(y.a,{variant:"primary",type:"Submit"},"Add Course"))))))),o.a.createElement(b.a.Footer,null,o.a.createElement(y.a,{variant:"danger",onClick:this.props.onHide},"Close")))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=m.url+"/"+e.target.courseId.value;fetch(t,{method:"PUT",headers:{Accept:"application/json","content-type":"application/json"},body:JSON.stringify({courseId:e.target.courseId.value,courseName:e.target.courseName.value})}).then((function(e){alert("updated"),a.props.onHide()}),(function(e){}))},a.state={snackbaropen:!1,snackbarmsg:""},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(b.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(b.a.Header,{closeButton:!0},o.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},"Edit Course")),o.a.createElement(b.a.Body,null,o.a.createElement("div",{className:"container"},o.a.createElement(w.a,null,o.a.createElement(g.a,{sm:6},o.a.createElement(T.a,{onSubmit:this.handleSubmit},o.a.createElement(T.a.Group,{controlId:"courseId"},o.a.createElement(T.a.Label,null,"Course Id"),o.a.createElement(T.a.Control,{type:"text",name:"course ID",required:!0,disabled:!0,defaultValue:this.props.courseid,placeholder:"course id"})),o.a.createElement(T.a.Group,{controlId:"courseName"},o.a.createElement(T.a.Label,null,"Course Name"),o.a.createElement(T.a.Control,{type:"text",name:"courseName",required:!0,defaultValue:this.props.coursename,placeholder:"course name"})),o.a.createElement(T.a.Group,null,o.a.createElement(y.a,{variant:"primary",type:"Submit"},"Update Course"))))))),o.a.createElement(b.a.Footer,null,o.a.createElement(y.a,{variant:"danger",onClick:this.props.onHide},"Close")))}}]),t}(n.Component),C=a(52),O=a.n(C),L=a(50),j=a.n(L),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){a.setState({newCourse:e})},a.onScroll=function(e){a.checkIfAllTheWayOver()},a.onKeyDown=function(e){var t=e.keyCode,n=37===t,o=39===t;a.animatingLeft,a.animatingRight;n&&!a.state.allTheWayLeft?a.animatingLeft||(a.animatingLeft=!0,a.handleLeftNav().then((function(){a.animatingLeft=!1}))):o&&!a.state.allTheWayRight&&(a.animatingRight||(a.animatingRight=!0,a.handleRightNav().then((function(){a.animatingRight=!1}))))},a.handleRightNav=function(e){var t=a.refs.carouselViewport,n=a.widthAndTimeToScroll(),o=n.widthToScroll,r=n.timeToScroll,l=t.scrollLeft+o;return f({element:t,to:l,duration:r,scrollDirection:"scrollLeft",callBack:a.checkIfAllTheWayOver,context:Object(d.a)(a)})},a.deleteCourse=function(e){if(window.confirm("Are you Sure? ")){a.state.courses;fetch(m.url+"/"+e,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(){a.refreshCourses()}))}},a.handleLeftNav=a.handleLeftNav.bind(Object(d.a)(a)),a.onResize=a.onResize.bind(Object(d.a)(a)),a.throttleResize=p()(a.onResize,250),a.throttleScroll=p()(a.onScroll,250),a.animatingLeft=!1,a.animatingRight=!1,a.state={addModalShow:!1,editModalShow:!1,courses:[],isLoaded:!1,numOfSlidesToscroll:7,allTheWayLeft:!1,allTheWayRight:!1},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onResize",value:function(){this.checkNumOfSlidesToScroll()}},{key:"checkIfAllTheWayOver",value:function(){var e=this.refs.carouselViewport,t=!1;0===e.scrollLeft&&(t=!0);var a=!1,n=e.scrollLeft,o=e.clientWidth,r=e.scrollWidth;Math.round(n+o)===r&&(a=!0),this.state.allTheWayLeft===t&&this.state.allTheWayRight===a||this.setState({allTheWayLeft:t})}},{key:"componentDidMount",value:function(){var e=this;fetch(m.url).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,courses:t}),e.CustomShuffle(e.state.courses)})),this.checkNumOfSlidesToScroll(),this.checkIfAllTheWayOver(),window.addEventListener("resize",this.throttleResize),window.addEventListener("keydown",this.onKeyDown)}},{key:"CustomShuffle",value:function(e){for(var t=e.length-2,a=t;a>=2;a--){var n=Math.floor(Math.random()*(t-2+1))+2,o=e[n];e[n]=e[a],e[a]=o}this.setState({isLoaded:!0,courses:e})}},{key:"refreshCourses",value:function(){var e=this;fetch(m.url).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,courses:t})}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.throttleResize),window.removeEventListener("keydown",this.onKeyDown)}},{key:"checkNumOfSlidesToScroll",value:function(){var e;e=window.innerWidth<900?"full":4,this.state.numOfSlidesToscroll!==e&&this.setState({numOfSlidesToscroll:e})}},{key:"widthAndTimeToScroll",value:function(){var e=this.refs.carouselViewport,t=this.state.numOfSlidesToscroll;if("full"===t)return{widthToScroll:e.offsetWidth,timeToScroll:400};return{widthToScroll:t*document.querySelector(".slide").offsetWidth,timeToScroll:Math.min(200*t,400)}}},{key:"handleLeftNav",value:function(e){var t=this.refs.carouselViewport,a=this.widthAndTimeToScroll(),n=a.widthToScroll,o=a.timeToScroll,r=t.scrollLeft-n;return f({element:t,to:r,duration:o,scrollDirection:"scrollLeft",callBack:this.checkIfAllTheWayOver,context:this})}},{key:"renderSlides",value:function(e){var t=this;return e.map((function(e){return o.a.createElement("div",{className:"carousel slide card mb-2 card-title font-weight-bold",name:e.courseName,key:e.courseId},e.courseName,o.a.createElement("div",{className:"controls-top card-body"},o.a.createElement(y.a,{className:"edit-button",variant:"info",onClick:function(){return t.setState({editModalShow:!0,courseid:e.courseId,coursename:e.courseName})}},o.a.createElement(j.a,null,"Edit")),o.a.createElement(N,{show:t.state.editModalShow,onHide:t.editModalClose,courseid:t.state.courseid,coursename:t.state.coursename}),o.a.createElement(y.a,{className:"ml-2",variant:"danger",onClick:function(){return t.deleteCourse(e.courseId)}},o.a.createElement(O.a,null,"Delete"))))}))}},{key:"addModalClose",value:function(){var e=this;fetch(m.url).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,courses:t,addModalShow:!1})})),window.location.reload()}},{key:"editModalClose",value:function(){var e=this;fetch(m.url).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,courses:t,editModalShow:!1})})),window.location.reload()}},{key:"render",value:function(){var e=this,t=this.state,a=t.allTheWayLeft,n=t.allTheWayRight,r=t.courses,l=(t.isLoaded,t.courseID,t.courseNAME,E()({"carousel-nav":!0})),i=E()({"carousel-left-nav":!0,"carousel-nav-disabled":a},l),c=E()({"carousel-right-nav":!0,"carousel-nav-disabled":n},l);return o.a.createElement("div",null,o.a.createElement("div",{className:"create-course"},o.a.createElement(y.a,{variant:"primary",onClick:function(){return e.setState({addModalShow:!0})}},"Add New Course"),o.a.createElement(k,{show:this.state.addModalShow,onHide:this.addModalClose})),o.a.createElement("div",{className:"carousel-container"},o.a.createElement("button",{className:i,onClick:this.handleLeftNav},"<"),o.a.createElement("div",{className:"carousel-viewport",ref:"carouselViewport",onScroll:this.throttleScroll},this.renderSlides(r)),o.a.createElement("button",{className:c,onClick:this.handleRightNav},">")))}}]),t}(n.Component);l.a.render(o.a.createElement(I,null),document.getElementById("root"))},44:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},55:function(e,t,a){e.exports=a(105)},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.ae22ccff.chunk.js.map